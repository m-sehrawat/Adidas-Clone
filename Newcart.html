<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cart</title>


    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
        integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous">

    <link href="//db.onlinewebfonts.com/c/c0cd6ec8ce6d2bbd315a13b62ed13550?family=AdihausDIN" rel="stylesheet"
        type="text/css" />

    <link rel = "icon" href = " https://www.adidas.co.in/glass/react/16d1049/assets/img/icon-adidas-logo.svg"
        type="image/x-icon">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">



    <style>
        /* ---------- Header-Part ----------- */



        #topHeader {
            display: flex;
            background-color: black;
            color: white;
            height: 30px;
            flex-grow: 0px;
            overflow: hidden;
        }

        #topHeader div {
            margin: 0.5% 0% 0% 15%;
            font-size: 11px;
            font-weight: bold;
            letter-spacing: 2px;
        }


        #header {
            display: flex;
            height: 80px;
            border-bottom: 1px solid #eaebec;
            margin-bottom: 40px;
            overflow: hidden;
        }

        .adidasLogo {
            width: 70px;
            margin-top: 15px;
            margin-left: 50px;
            cursor: pointer;
        }


        #rightSideBox {
            height: 100%;
            width: 10%;
            margin-top: 0.5%;
            margin-left: 80%;
            border: 1px;
        }

        #rightSideBox>button {
            margin-left: 1%;
            width: auto;
            background-color: white;
            border: 0px;
            color: black;


        }

        #rightSideBox>p {
            margin-top: 5%;
            margin-left: 50%;
        }


        /* ---------- Cart-part ----------- */

        * {
            font-family: "AdihausDIN", Helvetica, Arial, sans-serif;
        }

        body {
            margin: 0px;
        }

        button {
            width: 20%;
            height: 25px;
            background-color: white;
        }

        #mainBody {
            margin: auto;
            width: 70%;
            display: grid;
            grid-template-columns: 59% 39%;
            gap: 5%;
        }

        #yourBag {
            font-size: 40px;
            line-height: 18px;
            font-family: sans-serif;
            font-style: normal;

        }

        #bagDetails {
            margin-top: 3%;
        }

        #display {
            display: grid;
            gap: 10px;
            margin-bottom: 3%;
            border: 1px;

        }

        #checkOut {
            box-sizing: border-box;
            height: 60px;
            width: 100%;
            border: 0px;
            border-radius: 4px;
            background-color: rgb(0, 0, 0);
            color: white;
            padding: 20px 0px 10px 15px;
            font-size: 18px;
            box-shadow: 10px 5px 5px grey;
            font-style: normal;
            display: grid;
            grid-template-columns: auto auto;
        }

        #checkOut:hover {
            cursor: pointer;
        }

        #checkOut>div {
            height: auto;
        }

        #checkOut>div:nth-child(2) {
            text-align: right;
            margin-right: 10%;
            font-size: large;
        }

        #checkOut>div:nth-child(2):hover {
            color: rgb(199, 199, 199);
            cursor: pointer;

        }

        #checkOut>div {
            height: auto;
        }

        #features {
            margin-top: 5%;
            color: grey;
        }

        #orderSummery {
            font-size: 20px;

        }

        .orderSummery {

            margin-top: 10%;
            margin-bottom: 5%;
            border: 1px solid rgb(233, 233, 233);
            background-color: rgb(255, 255, 255);
        }

        #table {

            width: 100%;
            border-color: 1px solid rgb(133, 133, 133);
            margin-top: 5%;
            border: 1px;
        }

        #totalPrice2,
        #delivery,
        #totalPrice1 {
            text-align: right;
            padding-right: 10px;
        }


        #footer {
            background-color: rgb(80, 80, 80);
            text-align: center;
            font-style: normal;
            color: white;
            font-family: sans-serif;
            padding: 1%;
            margin-top: 10px;
            font-size: 10px;
        }

        #mouseOver {
            color: grey;
        }

        #mouseOver:hover {
            background-color: black;
            color: white;
            cursor: pointer;
        }

        #mouseOver_chekout:hover {

            color: rgb(199, 199, 199);
            cursor: pointer;
            


        }


        #promoCodebtn {
            width: 94%;
            height: 50px;
            font-size: 20px;
            margin-bottom: 2%;
            padding-left: 5%;
            border: 1px solid grey;

        }

        #promocodeForm {
            margin-bottom: 5%;
        }

        #applyBtn {

            width: 100%;
            text-align: left;
            font-size: 20px;
            padding-left: 5%;
            height: 48px;
            border-radius: 5px;
            box-shadow: 10px 5px 5px grey;
            border: 1px solid grey;


        }

        #applyBtn:hover {
            color: white;
            background-color: black;
            cursor: pointer;


        }

        #btnr:hover {
            background-color: black;
            color: white;
            color: rgb(214, 214, 214);
        }
    </style>

</head>

<body>

    <header>

        <div id="topHeader">
            <div>FREE DELIVERY FOR ALL ORDERS NOW</div>
            <div>FREE RETURNS</div>
            <div>SIGN UP & GET 15% OFF</div>
        </div>

        <div id="header">
            <div>
                <img class="adidasLogo"
                    src="https://www.adidas.co.in/glass/react/16d1049/assets/img/icon-adidas-logo.svg">
            </div>
            <div id="rightSideBox">
                <button>sign up</button>
                <button>log in</button>
                <p>
                    <i class="material-icons">shopping_bag</i>
                </p>
            </div>
        </div>



    </header>


    <div id="mainBody">

        <div id="productSide">

            <!-- <div id="userName"></div> -->
            <div id="bagDetails">

                <strong id="yourBag"> YOUR BAG </strong>
                <p id="totalPrice">

                </p>

            </div>

            <div id="display">

            </div>



            <br>
            <div id=" features">
                <span id="mouseOver"> <i class="fas fa-truck"></i> &nbsp; <u>Free delivery</u></span> <br><br>
                <span id="mouseOver"> <i class="fas fa-exchange-alt"></i> &nbsp;<u>30* day free returns</u></span>
                <br><br>
                <span id="mouseOver"> <i class="fas fa-lock"></i> &nbsp;<u>Safe & Secure payment options</u></span>


            </div>






        </div>






        <div id="chekoutSide">
            <div id="checkOut" style="width: 90%" onclick="checkOut()">
                <div id="mouseOver_chekout">CHECKOUT</div>
                <div>→</div>
            </div>

            <div class="orderSummery">
                <strong id="orderSummery"> ORDER SUMMARY </strong>

                <table id="table">


                    <tr>
                        <td id="totalItem">Total item</td>
                        <td id="totalPrice1">₹0.00</td>
                    </tr>
                    <tr>
                        <td>Delevery</td>
                        <td id="delivery"> Your Bag is EMPTY! </td>
                    </tr>
                    <tr>
                        <td> <strong>Total</strong> <br>(Inclusive of all taxes) </td>
                        <td id="totalPrice2">₹0.00</td>
                    </tr>
                </table>
            </div>

            <form onsubmit="promo(event)" id="promocodeForm">

                <input type="text" id="promoCodebtn" placeholder="Enter Your Promocode Here" required />
                <button type="submit" id="applyBtn">Apply</button>

            </form>


            <div>
                <p> <strong> Need Help?</strong></p>

                <span id="mouseOver"><u>Delivery</u></span> <br><br>
                <span id="mouseOver"><u>Return & Refund</u></span> <br><br>
                <span id="mouseOver"><u>Ordering & Payment</u></span><br><br>
                <span id="mouseOver"><u>Promotion & Voucher</u></span>
            </div>
        </div>

    </div>


    <footer id="footer">
        <div>

            | Privacy Statement | Terms and Conditions | Imprint |

            <p>© 2021 adidas India Marketing Private Limited</p>

        </div>



    </footer>

</body>




</html>

<script>

    let data = JSON.parse(localStorage.getItem("adidasCart"))


    let PromoCode = [{ pc: "masai30", discount: "30" }, { pc: "fw12", discount: "20" }]

    let parent = document.getElementById("display")
    var tp = 0;
    var ti = 0;
    var dl = null;

    function showProducts(d) {

        parent.innerHTML = null

        d.forEach(function (product) {

            let div = document.createElement("div")
            div.style = "display : flex ; gap : 3%;border:1px solid rgb(214, 214, 214) ;height :250px"


            let div1 = document.createElement("div")
            div1.style = "box-sizing: border-box;width:45%"

            let div2 = document.createElement("div")
            div2.style = "box-sizing: border-box;width:100%; border:1px;display:grid"
            let div3 = document.createElement("div")
            div3.style = "display : flex; gap :5px;box-sizing: border-box;width : 100%; border:1px "
            let div4 = document.createElement("div")
            let div5 = document.createElement("div")
            div5.style = "box-sizing: border-box; border :1px "
            let div6 = document.createElement("div")
            div6.style = " border :1px "
            let div7 = document.createElement("div")
            let div8 = document.createElement("div")
            let btn = document.createElement("button")
            btn.setAttribute("id", "btnr")
            btn.style = "width: 100%;height:10% ;font-size:20px;padding-bottom: 30px ;"

            btn.innerHTML = "×"



            div4.style = "width:30%;border:1px;margin-bottom :30px"
            let quan = document.createElement("input")
            let quantityText = document.createElement("p")
            quantityText.textContent = "QUANTITY"

            quan.type = "number"
           
            quan.min = "1" 
            quan.max = "5" 
            quan.value="1"
            quan.placeholder = "Quantity"
            quan.style = "width : 50%; height : 50%;font-size: 20px;text-align: center;"

            let quantityInput = quan.value

            console.log("quantity : " ,quantityInput)

            div4.append(quantityText,quan)



          

            div6.style = " box-sizing: border-box; border:1px  ;display:flex;gap:3%;flex-grow: 1;"
            div7.style = "box-sizing: border-box;border:1px  ;display:grid;gap:-10px;margin-right:2%"
            div8.style = "font-size:20px;border:1px ;flex-grow: 3;text-align: right;margin-right:4%"


            let image = document.createElement("img")
            image.src = product.img[0]
            image.style = "width:100% ;height:100%"

            div1.append(image)

            let name = document.createElement("p")
            let color = document.createElement("p")
            let size = document.createElement("p")
            let stock = document.createElement("p")
            let price = document.createElement("p")
            let totalPrice1 = document.getElementById("totalPrice1")
            stock.style = "font-weight: bold;font-size:20px"

            // let icon1 = document.createElement("i")
            let icon2 = document.createElement("i")
            // icon1.style = "border : 1px ;"
            icon2.style = "border : 1px ; margin-top : -200%;"

            // icon1.setAttribute("class", "fas fa-times")
            icon2.setAttribute("class", "far fa-heart")




            name.textContent = product.name
            color.textContent = product.color
            size.textContent = "SIZE :" + product.size
            stock.textContent = product.stock
            price.textContent = "₹" + product.price + ".00"




            tp += Number(product.price)
            ti++

            totalPrice1.textContent = tp + ".00"



            if (tp <= 3000 && tp > 0) {

                let delivery = document.getElementById("delivery")

                delivery.textContent = "₹" + 50 + ".00"
                dl = "50"
                tp = tp + 50


                let totalItem = document.getElementById("totalItem")
                let totalPrice = document.getElementById("totalPrice")

                let totalPrice2 = document.getElementById("totalPrice2")

                totalPrice1.style = "font-weight: bold;"
                totalPrice2.style = "font-weight: bold;"

                totalPrice.textContent = "TOTAL (" + ti + "item) " + "₹" + tp + ".00"
                totalItem.textContent = ti + " Items"

                totalPrice2.textContent = tp + ".00"



            }

            else {

                let delivery = document.getElementById("delivery")

                delivery.textContent = "Free"
                dl = "Free"


                let totalItem = document.getElementById("totalItem")
                let totalPrice = document.getElementById("totalPrice")
                let totalPrice1 = document.getElementById("totalPrice1")
                let totalPrice2 = document.getElementById("totalPrice2")

                totalPrice1.style = "font-weight: bold;"
                totalPrice2.style = "font-weight: bold;"

                totalPrice.textContent = "TOTAL (" + ti + "item) " + "₹" + tp + ".00"
                totalItem.textContent = ti + " Items"
                totalPrice1.textContent = tp + ".00"
                totalPrice2.textContent = tp + ".00"



            }












            btn.onclick = function () {
                remove1(product)
            }





            div8.append(price)
            div7.append(btn, icon2)




            div5.append(name, color, size, stock)
            div6.append(div8, div7)

            div3.append(div5, div6)
            div2.append(div3, div4)

            div.append(div1, div2)

            parent.append(div)




        })
    }

    showProducts(data)




    function promo(e) {
        e.preventDefault()
        let promocodeForm = document.getElementById("promocodeForm")
        let promocode = promocodeForm.promoCodebtn.value
        let count = 0;

        PromoCode.forEach(function (p) {

            if (p.pc === promocode) {

                if (p.pc != "X") {




                    tp = tp - tp * Number(p.discount) / 100

                    let totalPrice = document.getElementById("totalPrice")
                    let totalPrice1 = document.getElementById("totalPrice1")
                    let totalPrice2 = document.getElementById("totalPrice2")

                    totalPrice.textContent = "TOTAL (" + ti + "item) " + "₹" + tp
                    totalPrice1.textContent = tp
                    totalPrice2.textContent = tp

                    alert("Promo Code Applied Successfully!")

                    count++
                    promoflag++
                    p.pc = "X"

                    return


                }



            }

            else if (p.pc == "X") {
                alert("Promo Code Already Aplied")
                return
            }

            else {

                count = 0;
            }


        })

        console.log(count)
        if (count == 0) {
            alert("Invalid Promo code")
        }



    }


    function checkOut() {

        if (JSON.parse(localStorage.getItem("checkout") === null)) {

            localStorage.setItem("checkout", JSON.stringify([]))
        }

        let arr = JSON.parse(localStorage.getItem("checkout"))

        let checkoutData = { totalPrice: tp, totalItem: ti, delivery: dl }

        if (data.length != 0) {
            arr.push(checkoutData)

            localStorage.setItem("checkout", JSON.stringify(arr))

            window.location.href = "adidas_checkOutPage.html"

        }

        else {
            alert("Add Something to Bag!")
        }



        let DataAfterRemove = []

        for (j = 0; j < data.length; j++) {


            DataAfterRemove.push(data[j])

        }

        localStorage.setItem("DAR", JSON.stringify(DataAfterRemove))





    }

    function remove1(p) {


        for (i = 0; i < data.length; i++) {
            if (data[i].name === p.name) {
                data.splice(i, 1)
                localStorage.setItem("adidasCart", JSON.stringify(data))
                window.location.reload()

                let DataAfterRemove = []

                for (j = 0; j < data.length; j++) {


                    DataAfterRemove.push(data[j])

                }

                localStorage.setItem("DAR", JSON.stringify(DataAfterRemove))


                // newdata = data
                ti = 0;
                tp = 0;
                console.log("NewData after remove ", data)


                return
            }
        }




    }

    if (data.length == 0) {

        parent.style = "font-weight: bold;box-shadow: 10px 5px 5px grey;"

        parent.textContent = "YOUR BAG IS EMPTY!"
    }

    console.log("Data length :-", data.length)

</script>